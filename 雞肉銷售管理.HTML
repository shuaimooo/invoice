<!doctype html> <html lang="zh-TW"> <head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>é›ç‹ç”Ÿæ–°é®®è¡ŒéŠ·å­˜ç³»</title> <script sdata="/_sd src="/_sdk/element_sdk.js"></script> <script src="https://cdn.tailwindcss.com"></script> <style> body { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Microsoft JhengHangser 0; linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%); height: 100%; } html { height: 100%; } .dashboard-card { background: white; border-radius: 16px; rgba(0,0,0,0.1); transition: all 0.3s; } .dashboard-card:hover { transform: translateY(-4px); box-shadow: 0 8px 30px rgba(0,0,0,0.15); 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 12px; cursor: pointer; transition: transform 0.2s; } .stat-box:hover { transform: scale(1.05); #667eea 0%, #764ba2 100%); color: white; padding: 12px 24px; border-radius: 8px; border: none; cursor: pointer; font-weight: 600; transition: none; cursor: pointer; font-weight: 600; transition: allbox-0.2 0 æœˆ; rgba(102,126,234,0.3); } .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(102,126,234,0.4); not-allowed; transform: none; } .btn-success { background: linear-gradient(135deg, #10b981 0%, #059669 100%); color: white; padding: 12px 24px; borderius; 600; transition: all 0.2s; } .btn-success:hover { transform: translateY(-2px); } .btn-danger { background: linear-gradient(135deg, #ef4444 0%, # #dc2626 100%); border-radius: 8px; border: none; cursor: pointer; font-weight: 600; transition: all 0.2s; } .btn-danger:hover { transform: translateY(-2px); .input-field { width: 100%; #e5e7eb; border-radius: 8px; font-size: 14px; transition: all 0.2s; } .input-field:focus { outline: none; border-color: #667eea; box-shadow: 0 0 0 3px r. background: white; height: 100%; overflow-y: auto; box-shadow: 4px 0 20px rgba(0,0,0,0.1); } .menu-item { padding: 18px 24px; cursor: pointer; border-left: 4px solid transparent; transition: all 0.2s; font-weight: 500; display: flex; align-items: centerpap: 12; #f3f4f6; border-left-color: #667eea; } .menu-item.active { background: #eef2ff; border-left-color: #667eea; color: #667eea; } .table { width: 100%; color: #667eea; } .table { width: 100%; overflow: hidden; } .table th { background: #f9fafb; padding: 16px; text-align: left; font-weight: 700; border-bottom: 2px solid #e5e7eb; color: #374151; .tablepx solid . #f3f4f6; } .table tr:hover { background: #f9fafb; } .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; left: 0ï¼› center; justify-content: center; backdrop-filter: blur(4px); } .modal.show { display: flex; } .modal-content { background: white; padding: 32px; border-radius: 16px; max-width: 700%; overflow-y: auto; box-shadow: 0 20px 60px rgba(0,0,0,0.3); } .badge { display: inline-block; font-size: 6px 14px; border-radius: 20px; font-size: 12083: 12 background: #dbeafe; color: #1e40af; } .badge-success { background: #d1fae5; color: #065f46; } .badge-warning { background: #fef3c7; color: #92400e; } backge-danger . { position: fixed; top: 24px; right: 24px; background: white; padding: 16px 24px; border-radius: 12px; box-shadow: 0 10px 40px rgba(0,0,0,0.3); ease-out; border-left: 4px solid #10b981; } .toast.error { border-left-color: #ef4444; } .toast.warning { border-left-color: #f59e0b; } @keyframes slide { from {Xtransform; translateX(0); opacity: 1; } } .loading-spinner { border: 3px solid #f3f4f6; border-top: 3px solid #667eea; border-radius: 50%; width: 20px; height: 20-px; inline-block; margin-left: 8px; } @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } } .price-card { background: linear-gradient(135deg; color:ç™½è‰²ï¼›å…§é‚Šè·ï¼š20pxï¼›é‚Šæ¡†åœ“è§’ï¼š12pxï¼›ä¸‹é‚Šè·ï¼š12px;} .inventory-alert { èƒŒæ™¯ï¼š#fef3c7ï¼›å·¦é‚Šæ¡†ï¼š4px å¯¦ç·š #f59e0bï¼›å…§é‚Šè·ï¼š16pxï¼›é‚Šæ¡†åœ“è§’ï¼š8pxï¼›ä¸‹é‚Šè·ï¼š12px.èƒŒæ™¯ï¼šç·šæ€§æ¼¸è®Šï¼ˆ135degï¼Œ#667eea 0%ï¼Œ#764ba2 100%ï¼‰ï¼›é¡è‰²ï¼šç™½è‰²ï¼›å…§é‚Šè·ï¼š16px 24pxï¼›é‚Šæ¡†åœ“è§’ï¼š12pxï¼›ä¸‹é‚Šè·ï¼š20pxï¼›å­—å‹å¤§å°ï¼š20pxï¼›ç²—ç´°ï¼š700ï¼›ä¸‹é‚Šè·ï¼š20pxï¼›å­—å‹å¤§å°ï¼š20pxï¼›ç²—ç´°ï¼š700ï¼›é¡¯ç¤ºï¼šç¶²æ ¼ï¼›ç¶²æ ¼æ¨¡æ¿åˆ—ï¼šé‡è¤‡ï¼ˆè‡ªå‹•èª¿æ•´ï¼Œminmaxï¼ˆ250pxï¼Œ1frï¼‰ï¼‰ï¼›é–“è·ï¼š20pxï¼› margin-bottom: 30px; } .info-box { background: #f0f9ff; border: 2px solid #bfdbfe; bgin-radius: 12px; .profit-positive { color: #059669ï¼› 24px; border-radius: 12px; transition: width 0.5s ease; } .filter-bar { background: white; padding: 20px; border-radius: 12px; margin-bottom: 20px; border-radius: 12px; margin-bottom: 20pxï¼› .tab-container { display: flex; gap: 8px; margin-bottom: 24px; border-bottom: 2px solid #e5e7eb; padding-bottom: 0; } .tab { padding: 12px 24px; 600; color: #6b7280; transition: all 0.2s; } .tab:hover { color: #667eea; } .tab.active { color: #667eea; border-bottom-color: #667eea; } </style> < æ¨™é¡Œh-full"><!-- å·¦å´å°è¦½åˆ— --> <div class="sidebar w-72 flex-shrink-0"> <div class="p-6 border-b-2 border-gray-100"> <h1 class="text-2xl font-bold text-gray-800" id="system-title="text-2xl font-bold text-gray-800" id="system-title="text-2xl font-bold text-gray-800" id="system-title="text-2xl font-bold text-gray-800" id="system-title="text-2xl font-bã€‚ id="company-info">é›ç‹ç”Ÿé®®é›è‚‰å¤§ç›¤å•†</p> <div class="mt-4 text-xs text-gray-500"> <div> ğŸ“…ï¼š<span id="current-date"></span> </div> <div class="mt-1"> ğŸµ">ä»Šæ—¥æ™‚é–“</sup</span></divs <div class="mt-1"> ğŸ• <navé¡åˆ¥=â€œpy-4â€> <div class="menu-item active" data-page="dashboard"><span class="text-2xl">ğŸ </span> <span class="text-base">ä¸»æ§åˆ¶é¢æ¿</span> </div> <div class="menu-item" data-class="price</span>><panp. class="text-base">ç•¶æ—¥â€‹â€‹åƒ¹æ ¼è¡¨</span> </div> <div class="menu-item" data-page="purchase"><span class="text-2xl">ğŸ“¥</span> <span class="text-base">é€²è²¨ç®¡ç†</span> </page> <div class="divp-item class="p; <span class="text-base">éŠ·å”®ç®¡ç†</span> </div> <div class="menu-item" data-page="inventory"><span class="text-2xl">ğŸ“¦</span> <span class="text-base">åº«å­˜ç®¡ç†</span> </page> <div class="com <span class="text-base">å®¢æˆ¶è³‡æ–™</span> </div> <div class="menu-item" data-page="supplier"><span class="text-2xl">ğŸ­</span> <span class="text-base">ä¾›æ‡‰å•†è³‡æ–™</span> </p> <div class="n-item" class<p; <span class="text-base">å ±è¡¨åˆ†æ</span> </div> <div class="menu-item" data-page="settings"><span class="text-2xl">âš™ï¸</span> <span class="text-base">ç³»çµ±è¨­å®š</span> </div> </span> <span class="text-base">ç³»çµ±è¨­å®š</span> </div> </span> <-div-f-div: 88888888åˆ†- 18<- 888888åˆ†- 40818-7<P: 18<- å…§å®¹å€>ä¸»æ§åˆ¶é¢æ¿ --> <div id="page-dashboard" class="page-content"> <div class="section-header"> ğŸ“Š ä¸»æ§åˆ¶é¢æ¿ - å³æ™‚ç‡Ÿæ¥­ç‹€æ³ </div><!-- å¿«é€Ÿæ“ä½œå€ --> <div class="quick-action-grid"> <div class="stat-box" onclick="showPage('purchase')"> <div class="text-4xl mb-3"> ğŸ“¥ </div> <div class="text-lg font-bold">0001000 1008 7000æ±è¥¿ 10000æ±è¥¿ 100012001 2000æ±è¥¿ 10012 2000æ±è¥¿ 1001200æ±è¥¿ 2001200æ±è¥¿ 1001200012 2000æ±è¥¿ 2001200æ±è¥¿ 200120000æ±è¥¿ 10000æ±è¥¿ 1000æ±è¥¿-20001 200æ±è¥¿ 200112000 20001æ±è¥¿ 2001200æ±è¥¿-00012 2000æ±è¥¿ã€‚ </div> <div class="stat-box" onclick="showPage('sales')"> <div class="text-4xl mb-3"> ğŸ“¤ </div> <div class="text-lg font-bold"> éŠ·å”®ä½œæ¥­ </div> <div class="text-smpaopa-div; onclick="showPage('inventory')"> <div class="text-4xl mb-3"> ğŸ“¦ </div> <div class="text-lg font-bold">åº«å­˜æŸ¥è©¢ </div> <div class="text-sm opacity-90 mt-2"> å³æ™‚åº«å­˜ç‹€æ³</div><div class="text-sm opacity-90 mt-2"> å³æ™‚åº«å­˜ç‹€æ³' divco cop-divdivage> <divage' class="text-4xl mb-3"> ğŸ“Š </div> <div class="text-lg font-bold"> å ±è¡¨åˆ†æ </div> <div class="text-sm opacity-90 mt-2"> ç‡Ÿé‹è³‡æ–™åˆ†æ </div> </div> </divi><!-- card ---cad-ç‰‡ class="-class-1 æœˆ 6 mb-4 flex items-center gap-2"><span>ğŸ“ˆ</span> ä»Šæ—¥ç‡Ÿé‹çµ±è¨ˆ</h3> <div class="grid grid-cols-1 md:grid-cols-4 gap-6"> <div class="text-center p-4 bg-blue-50 rounded-lg"> <div class="text-sm text-gray-600 mb-1"> ä»Šæ—¥é€²è²¨ </div> <div class="text-3xl font-bold text-blue-6000" class="text-xs text-gray-500 mt-1"> ç­†æ•¸ </div> </div> <div class="text-center p-4 bg-green-50 rounded-lg"> <div class="text-sm text-gray-600 mb-1"> ä»Šæ—¥éŠ·å”® 0divtext> class="sm text- ã€‚ ã€‚ </div> <div class="text-3xl font-bold text-orange-600" id="today-profit"> $0 </div> <div class="text-xs text-gray-500 mt-1"> å…ƒ </div> </div> </div> </div><!-- åƒ¹æ ¼èˆ‡åº«å­˜ç‹€æ…‹èˆ‡åº«å­˜ç‹€æ…‹ 1 lg:grid-cols-2 gap-6"> <div class="dashboard-card"> <h3 class="text-xl font-bold mb-4 flex items-center gap-2"><span>ğŸ’°</span> ä»Šæ—¥åƒ¹æ ¼ç‹€æ…‹</h3> <div id="price-00-divp. </div> <div class="dashboard-card"> <h3 class="text-xl font-bold mb-4 flex items-center gap-2"><span>âš ï¸</span>åº«å­˜å´ç·š</h3> <div id="inventory-alerts-dashboard"> <divp class="text-div-divp. </div><!-- ç•¶æ—¥åƒ¹è¡¨é  --> <div id="page-price" class="page-content" style="display:none;"> <div class="section-header flex justify- Between items-center"><span>ğŸ’°ç•¶æ—¥ç®¡ç†</span> <butpton class-p-pypå­—é«”ç²—é«”æ‡¸åœï¼šbg-purple-50" onclick="openPriceModal()"> + æ–°å¢åƒ¹æ ¼ </button> </div> <div class="info-box"> <div class="flex items-center gap-3"><span class="text-2xl">ğŸ’¡</span> <div> <divp-bold-bold <divue> 006 ã€‚é€²è²¨ç®¡ç†é é¢ --> <div <div class="page-purchase" class="page-content" style="display:none;"> <div class="section-header flex justify-between items-center"><span>ğŸ“¥ é€²è²¨ç®¡ç†</span> <button class="bp-wite-70p-m-poldm-pyed 20p-pyed) 0p-pyp hover:bg-purple-50" onclick="openPurchaseModal()"> + æ–°å¢é€²è²¨ </button> </div> <div class="filter-bar"><label class="font-bold">é¸æ“‡æ¢ä»¶ï¼š</label> <input type="date" id="purchase-filter-date" class="..); id="purchase-filter-product" class="input-field" style="width: auto;"> <option value="">å…¨éƒ¨å•†å“</option> </select> <button class="btn-primary" onclick="applyPurchaseFilter()">å¥—ç”¨ç¯©é¸</btn-primary" onclick="applyPurchaseFilter()">æ‡‰ç”¨ç¯©é¸ç¯©é¸</ onclick="clearPurchaseFilter()">æ¸…é™¤ç¯©é¸</button> </div> <div class="dashboard-card"> <div id="purchase-list-content"></div> </div> </div><!-- éŠ·å”®ç®¡ç†é é¢ --> <div id="page-sales" class="page-content" style="pages<div id="pages:" class="page-content" style="page-disp. items-center"><span>ğŸ“¤ éŠ·å”®ç®¡ç†</span> <button class="bg-white text-purple-700 px-6 py-2 rounded-lg font-bold hide:bg-purple-50" onclick="openSalesModiv()"> +labs~bg-purple-50" onclick="openSalesModiv()"> +labar""""""""""""""""""æ­£æ­·å²æº–å‚™(Bad"""""""""""HSpapaHyaç™¼ç¾å¸Œæœ›è³¼è²·æº–å‚™æ–°æº–å‚™æº–å‚™æº–å‚™</a)S; class="font-bold">é¸æ“‡æ¢ä»¶ï¼š</label> <input type="date" id="sales-filter-date" class="input-field" style="width: auto;"> <select id="sales-filter-customer" class="input-field" style="width:auto;"> <option value="">å…¨éƒ¨å®¢æˆ¶</option> </select> <button class="btn-primary" onclick="applySalesFilter()">å¥—ç”¨ç¯©é¸</button> <button class="btn-success" onclick="clearSalesFilter(div"">"""""""""""""""""""""pp""på¾—å‡ºæ±º)æº–å‚™æ˜ç¢ºç¯©é¸)</æ²’æœ‰æ˜ç¢ºæƒ³å¥½çš„ç¯©é¸Bæ°´å¹³ < id="sales-list-content"></div> </div> </div><!--åº«å­˜ç®¡ç†é --> <div id="page-inventory" class="page-content" style="display:none;"> <div class="section-header"> ğŸ“¦ <å³æ™‚åº«å­˜ç®¡ç† </divms> <divclass="info-"> divclass="class-divms<m-divms> <divclass class=" class="text-2xl">ğŸ“Š</span> <div> <div class="font-bold text-blue-900"> åº«å­˜è‡ªå‹•æ›´æ–° </div> <div class="text-sm text-blue-700 mt-1">åº«å­˜è³‡æ–™æœƒéš¨è‘—é€²è²¨èˆ‡éŠ·å”®è‡ªå‹•æ›´æ–°ï¼Œä½æ–¼è­¦æˆ’å€¼æ™‚æœƒé¡¯ç¤ºæé†’ ä»£ç¢¼ divdiv"" div"<div-divtory> grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div> </div><!--å®¢æˆ¶è³‡æ–™é  --> <div id="page-customer" class="page-content" style="display:none;"> <divn class="section-header flexp-content" style="display:none;"> <divm>mection-header <button class="bg-white text-purple-700 px-6 py-2 rounded-lg font-bold href:bg-purple-50" onclick="openCustomerModal()"> + æ–°å¢å®¢æˆ¶ </button> </div> <divlist class="divdivion-card"-- divdivid> div-divä¾›æ‡‰å•†é é¢ --> <div id="page-supplier" class="page-content" style="display:none;"> <div class="section-header flex justify- Between items-center"><span>ğŸ­ä¾›æ‡‰å•†è³‡æ–™ç®¡ç†</span> <button class="bgg-w-poldp-p-p-p-f-plew-p-pyple hide:bg-purple-50" onclick="openSupplierModal()"> + æ–°å¢ä¾›æ‡‰å•† </button> </div> <div class="dashboard-card"> <div id="supplier-list-content"></div> </div> </div><!-- åˆ†æé  --supplier-list-content"></divnone;"> <div class="section-header"> ğŸ“Š å ±è¡¨åˆ†æä¸­å¿ƒ </div> <div class="tab-container"> <div class="tab active" data-tab="daily" onclick="switchReportTab('daily')"> æ¯æ—¥å ±è¡¨ </div> <div: class="tab dataly" onclick="switchReportTab('weekly')"> æ¯é€±å ±è¡¨ </div> <div class="tab" data-tab="monthly" onclick="switchReportTab('monthly')"> æœˆå ± </div> <div class="tab" data-tab="prodiv" divonclick="proitch" id="report-content"> <div id="report-daily" class="report-tab-content"></div> <div id="report-weekly" class="report-tab-content" style="display:none;"></div> <div id="report-monthly" class="report-tab-content" report="display: <div id="report-monthly" class="report0 style="display:none;"></div> </div> </div><!-- é é¢ç³»çµ±è¨­å®š --> <div id="page-settings" class="page-content" style="display:none;"> <div class="section-header"> âš™ï¸. <div class="space-y-4"> <div><label class="block text-sm font-bold mb-2">ç³»çµ±æ¨™é¡Œ</label> <input type="text" id="settings-title" class="input-field" value="é›ç‹ç”Ÿé®®é€²éŠ·å­˜æ¿ </div> <divc> <input type="text" id="settings-company" class="input-field" value="é›ç‹ç”Ÿé®®é›è‚‰å¤§ç›¤å•†"> </div> <div><label class="block text-sm font-bold mb-2">ä½åº«å­˜é è­¦å€¼ï¼ˆå…¬æ–¤ï¼‰</label> <input é¡å‹="number" idues" 5000 </div> <div><label class="block text-sm font-bold mb-2">é è¨­æ¯›åˆ©ç‡ï¼ˆ%ï¼‰</label> <input type="number" id="settings-profit-rate" class="input-field" value="20"> </aã€>< </div> </div> </div> </div> </div><!-- PriceModal --> <div id="price-modal" class="modal"> <div class="modal-content"> <h3 class="text-2xl font-bold mb-6 flex items-center gap-3"><span class="text-3xl">ğŸ’°</srice> ç•¶æ—¥åƒ¹æ ¼æ–°å¢</price> onsubmit="handlePriceSubmit(event)"> <div class="space-y-4"> <div><label class="block text-sm font-bold mb-2">å“é …åç¨± *</label> <input type="text" id="price-product-name" class="input-dplacedates <diver; grid-cols-2 gap-4"> <div><label class="block text-sm font-bold mb-2">å“é …ä»£ç¢¼</label> <input type="text" id="åƒ¹æ ¼-ç”¢å“-ä»£ç¢¼" class="input-field" placeholder="FG001"> </div> <divm> class="input-field" placeholder="FG001"> </div> <divm> class-class class<p. id="price-category" class="input-field" å¿…å¡«> <option value="">è«‹é¸æ“‡</option> <option value="ç”Ÿé®®">ç”Ÿé®®</option> <option value="å†·å‡">å†·å‡</option> <option value="ç†Ÿé£Ÿ">ç†Ÿé£Ÿ</option> <divoption="option="åˆ†ç·š><option> class)</option> <divoption> 4007771(D)> 18<option> <divoption> class class</option> <divoption> class class</option> <divoption> class class</option> <divoption> class class</option> æ‚¨grid-cols-2 gap-4"> <div><label class="block text-sm font-bold mb-2">å–®ä½ *</label> <select id="price-unit" class="input-field" å¿…å¡«> <option value="">è«‹é¸æ“‡</option> <option="option="option"poption) <option; </div> <div><label class="block text-sm font-bold mb-2">è¦æ ¼é‡é‡(kg)</label> <input type="number" id="price-spec-weight" class="input-field" step="0.01" placeholder="18"> divdivå®š> </-divdivid class="block text-sm font-bold mb-2">ç•¶æ—¥å”®åƒ¹ *</label> <input type="number" id="price-amount" class="input-field" step="0.01" placeholder="85" required> </div> <pold-mx class="block-textel class="bold-textb-adm. type="number" id="price-cost" class="input-field" step="0.01" readonly> </div> </div> <div><label class="block text-sm font-bold mb-2">åƒ¹</label> <textarea id="price-notes" class="input-field" rows="2" placeholder="é¸æ“‡å¡«type="submit" class="btn-primary flex-1">åƒ¹æ ¼å­˜åƒ¹</button> <button type="button" class="btn-danger" onclick="closeModal('price-modal')">è³¼è²·å–æ¶ˆ</button> </div> </form> </divco </divid> é€²å…¥è³¼è²·å–æ¶ˆ</ class="modal-content"> <h3 class="text-2xl font-bold mb-6 flex items-center gap-3"><span class="text-3xl">ğŸ“¥</span>æ–°è½‰é€è²¨å–®æ“š</h3> <form id="purchase-form" onmit="handle="grpse<pdivi's <pdivi<p; grid-cols-2 gap-4"> <div><label class="block text-sm font-bold mb-2">é€²è²¨æ—¥æœŸ *</label> <input type="date" id="purchase-date" class="input-field" requirequired> </mb> <divdiv>dlabul="block<lab type="text" id="purchase-batch" class="input-field" placeholder="è‡ªå‹•ç”¢ç”Ÿ"> </div> </div> <div><label class="block text-sm font-bold mb-2">ä¾›æ‡‰å•† *</label> <select id=ã€Œæ¡è³¼ä¾›æ‡‰å•†ã€ class="input-2">ä¾›æ‡‰å•† *</label> <select id=ã€Œæ¡è³¼ä¾›æ‡‰å•†ã€ class="input-xalç…§ç‰‡ã€</pselect. </div> <div><label class="block text-sm font-bold mb-2">å•†å“*</label> <select id="purchase-product" class="input-field" required onchange="updatePurchaseCalc()"> <option value="">" class-poo-cooooo> cocoid=coad </ç‰‡>è«‹é¸æ“‡å•†å“</plect-divue="">12-00 æœˆ> ã€‚ font-bold mb-2">è¦æ ¼(å…¬æ–¤//)ä»¶æ•¸ *</label> <input type="number" id="purchase-weight" class="input-field" step="0.<div class="info-box"> <div class="font-bold mb-2"> è‡ªå‹•è¨ˆç®—çµæœï¼š </div> <div class="grid grid-cols-2 gap-4"> <div> <div class="text-sm text-gray-600"> ç¸½é‡é‡ </divp-div class="text-kg-divbold" playbold" play mep-Dis-p-me-ad-cadse"> 0-pold" play mep-div. </div> <div> <div class="text-sm text-gray-600"> æˆæœ¬é‡‘é¡ </div> <div class="text-xl font-bold text-green-600" id="purchase-amount-display"> $0 </div> </div> </divp> divdiv> lab <textarea id="purchase-notes" class="input-field" rows="2"></textarea> </div> </div> <div class="flex gap-3 mt-6"><button type="submit" class="btn-success flex-1">ç¢ºèªè³¼è²·</button type="submit" class="btn-success flex-1">ç¢ºèªè³¼è²·</butbutton> <button s=" onclick="closeModal('purchase-modal')">å–æ¶ˆ</button> </div> </form> </div> </div><!-- éŠ·å”®æ¨¡æ…‹ --> <div id="sales-modal" class="modal"> <div class="modal-content"> <h3 class="text-2xl font-bold mb-6 flex items-center gap-3"><span class="text-3xl">ğŸ“¤</sms> æ–°å¢éŠ·å”®å–®æ“š</text-3xl"formal="pales</sms> æ–°å¢éŠ·å”®å–®æ“šonsubmit="handleSalesSubmit(event)"> <div class="space-y-4"> <div><label class="block text-sm font-bold mb-2">éŠ·å”®æ—¥æœŸ *</label> <input type="date" id="sales-date" class="input-divfield" review> </divfield" recad-males-date" class="input-divfield" relabal-addiv-date" class="input-divfield" relab> <divfield" mb-2">å®¢æˆ¶ *</label> <select id="sales-customer" class="input-field" required onchange="updateSalesCalc()"> <option value="">è«‹é¸æ“‡å®¢æˆ¶</option> </é¸æ“‡> </divbold><label class="block text-smh-dlock textp." class="input-field" required onchange="updateSalesCalc()"> <option value="">è«‹é¸æ“‡å•†å“</option> </select> </div> <div class="grid grid-cols-2 gap-4"> <div><label class="block text-sm. id="sales-weight" class="input-field" step="0.01" å¿…è¦ oninput="updateSalesCalc()"> </div> <div><label class="block text-sm font-bold mb-2">ä»¶æ•¸</label> <input type="number" id="sales-pieces" class="input-field" step="1" min="1" id="sales-pieces" class="input-field' </div> <div class="info-box"> <div class="font-bold mb-3"> ğŸ’¡è¨ˆåƒ¹æ˜ç´°ï¼š </div> <div id="sales-calculation-detail" class="text-sm space-y-2 text-gray-700"> <ppt> é¸æ“‡å®¢æˆ¶å’Œå•†å“å¾Œè‡ªå‹•è¨ˆç®—</pdivx> border-blue-300"> <div class="grid grid-cols-3 gap-4"> <div> <div <div class="text-xs text-gray-600"> å®¢åŠ åƒ¹ </div> <div class="text-lg font-bold text-blue-600" id="s-divdivthing> <divmark_divs <div class="text-xs text-gray-600"> æœ€çµ‚å–®åƒ¹ </div> <div class="text-lg font-bold text-purple-600" id="sales-final-price-display"> $0 </div> </div> <div> < class="text-price-display"> $0 </div> </div> <div> < class="text-divxs class-gra-6001-06 æœˆ 1 text-green-600" id="sales-amount-display"> $0 </div> </div> </div> <div class="mt-3 p-3 bg-orange-50 rounded-lg"> <div class="flex justify-between items-center"><sents-lg"> <div class="flex justify-between items-center"><s fontclass="text-m-pan-w-ra-j-jè†œã€‚ </div> </div> <div class="flex gap-3 mt-6"><button type="submit" class="btn-success flex-1">ç¢ºèªéŠ·å”®</button> <button type="button" class="btn-danger" onclick="closeModal('sdiv-divm-div"divm-divm')</ ä½†'a-dival's></divales> div*-- å®¢æˆ¶æ¨¡æ…‹æ¡† --> <div id="customer-modal" class="modal"> <div class="modal-content"> <h3 class="text-2xl font-bold mb-6 flex items-center gap-3"><span class="text-3xl">ğŸ‘¥è³‡æ–™</somerform; onsubmit="handleCustomerSubmit(event)"> <div class="space-y-4"> <div class="grid grid-cols-2 gap-4"> <div><label class="block text-sm font-bold mb-2">å®¢æˆ¶åç¨± *</label> <input 0 class="block text-sm font-bold mb-2">å®¢æˆ¶ä»£ç¢¼</label> <input type="text" id="customer-code" class="input-field" placeholder="C001"> </div> </div> <div class="grid grid-cols-2 gap-4"> colab *</label> <select id="customer-type" class="input-field" å¿…å¡«> <option value="ä¸€èˆ¬">ä¸€èˆ¬å®¢æˆ¶</option> <option value="æ‰¹ç™¼">æ‰¹ç™¼å®¢æˆ¶</option> <option value="VIP">VIPIP</option> <option value="">ç‰¹æ®Šå®¢æˆ¶</concx<pse<pse<pse<pse<pate<pse<pate<pse<pate<pse<pate</pse<p. font-bold mb-2">æ¯å…¬æ–¤åŠ åƒ¹(å…ƒ) *</label> <input type="number" id="customer-markup" class="input-field" step="0.1" min="0" max="10" value="2" required> <p class="text-xs text-gray~ </div> </div> <div><label class="block text-sm font-bold mb-2">è¯çµ¡é›»è©±</label> <input type="tel" id="customer-phone" class="input-field"> </div> <divn><label class="block text-smh="bold ç¡¬é«”" class="input-field"> </div> <div><label class="block text-sm font-bold mb-2">å‚™è¨»</label> <textarea id="customer-notes" class="input-field" rows="2"></textarea> <textarea id="customer-notes" class="input-field" rows="2"></textarea> </tntype> </div> < class=" flex-1">æäº¤å®¢æˆ¶</button> <button type="button" class="btn-danger" onclick="closeModal('customer-modal')">å–æ¶ˆ</button> </div> </form> </div> </div><!-- ä¾›æ‡‰å•†Modal --> <div id="supplier-modal" class="modal"> <div class="modal-content"> <h3 class="text-2xl font-bold mb-6 flex items-center gap-3"><span class="text-3xla">ğŸ­­</ssup> æ–°å¢ä¾›æ‡‰å•†onsubmit="handleSupplierSubmit(event)"> <div class="space-y-4"> <div class="grid grid-cols-2 gap-4"> <div><label class="block text-sm font-bold mb-2">ä¾›æ‡‰å•†åç¨± *</label> <input type="textname id| <div><label class="block text-sm font-bold mb-2">ä¾›æ‡‰å•†ä»£ç¢¼</label> <input type="text" <div><label class="block text-sm font-bold mb-2">æ´½è©¢é›»è©±</label> <input type="tel" id="divcep="m<p; ã€‚ <div class="flex gap-3 mt-6"><button type="submit" class="btn-primary" flex-1">å„²å­˜ä¾›æ‡‰å•†</button> <button type="button" class="btn-danger" onclick="closeMolet('supplier-dalal')">å–æ¶ˆ</button> </div""> """"" > "")">å–æ¶ˆ</ const defaultConfig = { system_title: 'é›ç‹ç”Ÿé®®é€²éŠ·å­˜', company_info: 'é›ç‹ç”Ÿé®®é‡æ…¶å¤§ç›¤å•†', low_stock_alert: '50' }; // è³‡æ–™ SDK è™•ç†ç¨‹åº const dataHandler = { onDataChanged(data) { alldData datacâ€‹â€‹nables initElementSdk() { if (window.elementSdk) { await window.elementSdk.init({ defaultConfig: defaultConfig, onConfigChange: async (config) => { document.getElementBytle('psystem-tisystem'). document.getElementById('company-info').textContent = config.company_info || defaultConfig.company_info; }, mapToCapabilities: (config) => ({ recolorables: [], borderables: [], fontEditable: undefined,fontSizeable: undefined }), mapToEditPanelValues: (config) => new Map([ ['system_title', config.system_title || defaultConfig.system_title], ['company_info', config.company_info def. ã€‚ today; document.getElementById('sales-date').value = today; await initElementSdk(); const result = await window.dataSdk.init(dataHandler); if (!result.isOk) { showToast('error', ', 'error'); document.getElementById('price-amount').addEventListener('input', (e) => { const price = parseFloat(e.target.value) || 0; document.getElementById('price-cost').value = (punctioned 2); const now = new Date(); document.getElementById('current-date').textContent = now.toLocaleDateString('zh-TW'); document.getElementById('current-time').textContent = now.toconaleTimeString('spage); document.querySelectorAll('.page-content').forEach(page => { page.style.display = 'none'; }); document.getElementById('page-' + pageName).style.display = 'block'; document.querySelectorAll('.men-item'); item.classList.remove('active'); }); const menuItem = document.querySelector(`.menu-item[data-page="${pageName}"]`); if (menuItem) menuItem.classList.add('active'); renderCurrentage(); document.querySelector('.menu-item.active'); if (!activePage) return; const page = activePage.dataset.page; switch(page) { case 'dashboard': updateDashboard(); break; case 'price': 'dashboard çš„ render; 'sales': renderSalesList(); break; case 'inventory': renderInventory(); break; case 'customer': renderCustomerList(); break; case 'supplier': renderSupplierList(); break; case 'report':renderReports(); break; } } // å„€éŒ¶æ¿æ›´æ–°å‡½æ•¸ updateDashboard() { const today = new Date().toISOString().split('T')[0]; const todayPurchases = allData.filter(d => d.__type === 'purchaate_day; d.__type === 'sales' && d.date === today); document.getElementById('today-purchase-count').textContent = todayPurchases.length; document.getElementById('today-sales-count').textContents_dayS. sum + (s.amount || 0), 0); document.getElementById('today-revenue').textContent = `$${revenue.toFixed(0)}`; const profit = todaySales.reduce((sumfit, s) => sum + (s.pro 0); document.getElementById('today-profit').textContent = `$${profit.toFixed(0)}`; // åƒ¹æ ¼ç‹€æ…‹ const prices = allData.filter(d => d.__type === 'price' && d.date === today); const priceus = docum (prices.length > 0) { priceStatus.innerHTML = ` <div class="space-y-2"> <div class="flex items-center gap-2 text-green-600 font-bold mb-3"> <span class="text-2">âœ“</sdiv> åƒ¹æ ¼é …ç›®ã€‚ ${prices.slice(0, 3).map(p => ` <div class="price-card text-sm"> <div class="flex justify-between items-center"> <span class="font-bold">${p.product_name}</span> <span class=" `).join('')} ${prices.length > 3 ? `<p class="text-sm text-gray-500 mt-2">...ç­‰ ${prices.length} é …ç›®</p>` : ''} </div> `; } else { Status.D.S cop-cop-cop-cop-Ridis <form-cop. mb-3">âš ï¸</div> <p class="text-orange-600 font-bold mb-3">å°šæœªè¨­å®šä»Šæ—¥åƒ¹æ ¼</p> <button class="btn-primary" onclick="showPage('price')">ç«‹å³è¨­å®š</button></ ã€‚getElementById('inventory-alerts-dashboard'); if (lowStock.length > 0) { alertsDiv.innerHTML = lowStock.slice(0, 5).map(([name, data]) => ` <div class="inventory-alert">sdiv class=" class="text-2xl">âš ï¸</span> <div class="flex-1"> <div class="font-bold text-orange-900">${name}</div> <div class="text-sm text-orange-700"> åº«å­˜ï¼š${data.weight.toFolpdived(1)} kg /dived(1)> /dived(1)> /dived(1)> /dived(1)> /dived(1)> /dived(1)> /dived(1)> /dived(1)> /dived(1)> 1/dived(1)> /divix(1)> /divix(1)> /divix(1)> /divix(1)> /divix(1)> /divix(1)> /divix(1)> /divix(1)) / divix(1)) åº«å­˜ï¼š${data.weightã€‚ `).join('') + (lowStock.length > 5 ? `<p class="text-sm text-gray-500 mt-2">...ç­‰ ${lowStock.length} é …ç›®ä½åº«å­˜</p>` : ''); } else {alertsDiv.in.in="] | mb-2">âœ“</div> <p class="text-green-600 font-bold">åº«å­˜åº«å­˜ï¼Œç„¡è­¦å ±</p> </div> `; } } // åƒ¹æ ¼ç®¡ç†å‡½æ•¸ openPriceModal() { document.getElementById('price-form').reset(); document.éåŒæ­¥å‡½æ•¸handlePriceSubmit(event) { event.preventDefault(); const btn = event.target.querySelector('button[type="submit"]'); btn.disabled = true; btn.innerHTML = 'è™•ç†ä¸­<span class="loading-spinner</sML = 'è™•ç†ä¸­<span class="loading-spinner</sML = 'åœ¨è™•ç†ä¸­<span class="loading-spinner class=" Date().toISOString().split('T')[0]; const priceData = { __type: 'price', id: `PRICE-${Date.now()}`, date: today, product_name: document.getElementById('price-product-name'price-product'). document.getElementById('price-product-code').value, category: document.getElementById('price-category').value, unit_type: document.getElementById('price-unit').value, spec_weight: parseFloat(documentã€‚ document.getElementById('price-notes').valueã€last_update: new Date().toISOString()ã€is_active: true }; const çµæœ = window.dataSdk.create(priceData); btn.disabled = false;åƒ¹æ ¼å·²æ–°å¢'); closeModal('åƒ¹æ ¼æ¨¡å¼'); } else { showToast('æ–°å¢å¤±æ•—ï¼Œè«‹é‡è©¦','éŒ¯èª¤'); } } function renderPriceList() { const Today = new Date().toISOString().split('T')[0]; const rates = allData.filter(d => d.__type === 'price' && d.date ===== &&== d.is_active ! documentã€‚ mt-4" onclick="openPriceModal()">+ æ–°å¢ç¬¬ä¸€ç­†åƒ¹æ ¼</button> </div> `;è¿”å›; } const groupedByCategory = {}; prices.forEach(p => { if (!groupedByCategory[p.category]) { groupedByCategory[p.category]) { groupBy.] groupedByCategory[p.category].push(p); }); container.innerHTML = Object.entries(groupedByCategory).map(([category, items]) => ` <div class="mb-6"> <h4 class="texttext-lg-boldmold 0h-poldm. (${items.length}é …)</h4> <table class="table"> <thead> <tr> <th>å“é …åç¨±</th> <th>å“é …ä»£ç¢¼</th> <th>å–®ä½</th> <th>è¦æ ¼</th> <th>å”®åƒ¹</th> <th>æˆæœ¬</th> <th>æ¯›åˆ©</th> <th>å‚™è¨»</th> <th>æ“ä½œ</th> </tr> </thead> <tbody> ${items.map(p => { constprofitMargin = p.base_price - p.cost_price; return ` <tr> <td <td class="font-bold">${p.product_name}</td> <td class="text-sm text-gray-600">${p.>> <$. badge-primary">${p.unit_type}</span></td> <td>${p.spec_weight > 0 ? p.spec_weight + 'kg' : '-'}</td> <td class="font-bold text-green-600 text-lg">${p.base_price}</td> class="text-gray-600">${p.cost_price}</td> <td class="font-bold text-blue-600">${profitMargin.toFixed(1)}</td> <td class="text-sm text-gray-600">${p.notes > onclick="deleteRecord('${p.__backendId}')">åˆªé™¤</button> </td> </tr> `; }).join('')} </tbody> </table> </div> `).join(''); } // é€²è²¨ç®¡ç† function openPurchaseModal==() { const suppliers = soData.filter( allData.filter(d => d.__type === 'price' && d.is_active !== false); const supplierSelect = document.getElementById('purchase-supplier'); supplierSelect.innerHTML = '<option value="">0.com> <comwers><ppl. value="${s.id}">${s.supplier}</option>`).join(''); const productSelect = document.getElementById('purchase-product'); productSelect.innerHTML = '<option value="">è«‹é¸æ“‡å•†å“</option>'$ prices. data-cost="${p.cost_price}" data-name="${p.product_name}">${p.product_name} (${p.category})</option>`).join(''); document.getElementById('purchase-form').reset(); document.getElementById('purchase-form').reset(day); Date().toISOString().split('T')[0]; document.getElementById('purchase-date').value = today; document.getElementById('purchase-batch').value = `B${Date.now()}`mody-batch')ã€‚ } function updatePurchaseCalc() { const pieces = parseFloat(document.getElementById('purchase-pieces').value) || 0; const weight = parseFloat(document.getElementById(piepurchaces-weight').pien constcesn 0piece ||s 0piepurchaces-weight')ã€‚ weight : weight; document.getElementById('purchase-total-weight-display').textContent = `${totalWeight.toFixed(2)} kg`; const productSelect = document.getElementById('spurchase-produlected); (selectedOption && selectedOption.value) { const costPrice = parseFloat(selectedOption.dataset.cost) || 0; const amount = totalWeight * costPrice; document.getElementById('$$purse-amount-display").Contsepent}( document.getElementById('purchase-amount-display').textContent = '$0'; } } async function handlePurchaseSubmit(event) { event.preventDefault(); const btn = event.target.querySelector('button[type]p. 'è™•ç†ä¸­<span class="loading-spinner"></span>'; const productSelect = document.getElementById('purchase-product'); const selectedOption = productSelect.selectedOptions[0]; const pieces = parseFloat(document.getElementById('purchase-pieces').value) || 0; const weight = parseFloat(document.getElementById('purchase-weight').value) || 0; const totalWeight = pieces > 0 ? pieces * weight : weight; const costPrice = parseFloat(selectedOption.dataset.cost) || ||. document.getElementById('purchase-supplier'); const supplier = allData.find(d => d.__type === 'supplier' && d.id === supplierSelect.value); const purchaseData = { __type: 'purchase', id: `. document.getElementById('purchase-date').value, time: new Date().toLocaleTimeString('zh-TW'), batch_no: document.getElementById('purchase-batch').value, supplier: suppl.éwindow.dataSdk.create(purchaseData); btn.disabled = false; btn.innerHTML = 'ç¢ºèªé€²è²¨'; if (result.isOk) { showToast('âœ“ é€²è²¨å·²è¨˜éŒ„'); closeModal('è³¼è²·æ¨¡å¼'); } else }; renderPurchaseList() { const buys = allData.filter(d => d.__type === 'purchase').sort((a, b) => { const dateCompare = b.date.localeCompare(a.date); if (dateCompare !== 0) returntime. ''); } } }); const container = document.getElementById('è³¼è²·æ¸…å–®å…§å®¹'); const container = document.getElementById('è³¼è²·æ¸…å–®å…§å®¹'); if (purchases.length === 0) { container.innerHTML = ` <div class="text-center py-12"> <div class="text-66 mb-4-096 text-lg">å°šç„¡é€²è²¨è¨˜éŒ„</p> <button class="btn-success mt-4" onclick="openPurchaseModal()">+æ–°å¢ç¬¬ä¸€ç­†é€²è²¨</button> </div> `;è¿”å›; } const ç¸½é‡‘é¡ = è³¼è²·.reduce((sum, p) = consums, p) = const <p.a000); p) => sum + (p.total_weight || 0), 0);å®¹å™¨ã€‚innerHTML = ` <div class="grid grid-cols-3 gap-4 mb-6"> <div class="text-center p-4 bg-blue-50 rounded-lg"> <div class="text-sm text-gray-600">ç¸½é€²è²¨ç­†æ•¸</div> <div class="text-sm text-gray-600">ç¸½é€²è²¨ç­†æ•¸</div> <div fontclass="text-3 xl font-bold text-blue-600">${purchases.length}</div> </div> <div class="text-center p-4 bg-green-50 rounded-lg"> <div class="text-sm text-gray-600">ç¸½é€²è²¨é‡é‡</div> < class="text-3xl <div class="text-xs text-gray-500">å…¬æ–¤</div> </div> <div class="text-center p-4 bg-purple-50 rounded-lg"> <div class="text-sm text-gray-600">ç¸½é€²è²¨é‡‘é¡</"> <divclass="text-3xlfont-bold text-purple-600">$${totalAmount.toFixed(0)}</div> </div> </div> <table class="table"> <thead> <tr> <th>æ—¥æœŸæ™‚é–“</th> <th>ç­è™Ÿ</th> <th>ä¾›æ‡‰å•†</th> <th>å•†å“</th> <th> <th> <thth><th <th>æ“ä½œ</th> </tr> </thead> <tbody> ${purchases.map(p => ` <tr> <td class="text-sm"> <div>${p.date}</div> <div class="text-xs text-gray-500">${p.div. text-gray-600">${p.batch_no || '-'}</td> <td class="font-bold">${p.supplier}</td> <td class="font-bold text-blue-600">${p.product_name}</td> <td class="text-center">$. kg</td> <td class="font-bold text-lg">${p.total_weight} kg</td> <td class="text-gray-600">$${p.cost_price}</td> <td class="font-bold text-green-600 text-v">> class="btn-danger text-sm" onclick="deleteRecord('${p.__backendId}')">åˆªé™¤</button> </td> </tr> `).join('')} </tbody> </table> `; } // éŠ·å”®ç®¡ç†å‡½æ•¸ openSalesModal() { const customers = allData.filter(d => d.__type === 'customer'); const prices = allData.==filter(d => d.__type === 'price' &__); document.getElementById('sales-customer').innerHTML = '<option value="">è«‹é¸æ“‡å®¢æˆ¶</option>' + customers.map(c => `<option value="${c.id}" data-markup="{c.price_markcomer}">$c. documentã€‚ data-name="${p.product_name}" data-spec="${p.spec_weight}">${p.product_name} (${p.category})</option>`).join(''); document.getElementById('sales-form').reset() constd (document);Plit.0); documentã€‚ document.getElementById('sales-customer'); const productSelect = document.getElementById('sales-product'); const weight = parseFloat(document.getElementById('sales-weight').value) || 0 constentã€‚ ã€‚ class="text-gray-500">è«‹é¸æ“‡å®¢æˆ¶å’Œå•†å“å¾Œè‡ªå‹•è¨ˆç®—</p>'; return; } const customerOption = customerSelect.selectedOptions[0]; const productOption = productSelect.selectedOptions[0]; const markup = parsectOption = productSelect.selectedOptions[0]; const markup = parsectOption = productSelect.selectedOptions[0]; const markup = parseFloat(custyrice. ã€‚ totalAmount = 0; let calculation = ''; if (category === 'ç”Ÿé®®') { finalPrice = basePrice + markup; const jin = weight / 0.6; totalAmount = jin * finalPrice; calculation = ` <div class="font-bold 0. <div>â€¢ é‡é‡ï¼š${weight} å…¬æ–¤ = ${jin.toFixed(2)} å°æ–¤</div> <div>â€¢ åŸºæœ¬å–®åƒ¹ï¼š$${basePrice} /å…¬æ–¤</div> <div>â€¢ å®¢è£½åŠ åƒ¹ï¼š+$${markup} /</div> <div>â€¢ è¨ˆç®—ï¼š${jin.toFixed(2)} æ–¤ Ã— $${finalPrice} = <${jin.toFixed(2)} ç£…æ•¸ Ã— $${finalPrice} = <sadn class=" text-green-600">$${totalAmount.toFixed(0)}</span></div> `; } else if (category === 'å†·å‡') { FinalPrice = basePrice + markup;ç¸½é‡‘é¡=é‡é‡*ä»¶æ•¸*æœ€çµ‚åƒ¹æ ¼ï¼›è¨ˆç®— = ` <div class="font-bold divtext-000111601 æœˆ 200201 æœˆ 2090201 æœˆ>2099(Ftext-1001)> å†·å‡æ–¹æ³•è¦æ ¼ï¼š${weight}å…¬æ–¤ Ã— ${pieces} ä»¶</div> <div>â€¢ åŸºæœ¬å…¬æ–¤åƒ¹ï¼š$${basePrice} /kg</div> <div>â€¢ å®¢è£½åŠ åƒ¹ï¼š+$${markup} /kg</div> <div>â€¢ è¨ˆç®—ï¼š${weight} kg Ã— ${ä»¶} ä»¶ Ã— ã€‚å›ºå®šå”®åƒ¹ï¼š$400 /ä»¶</div> <div>â€¢ ä»¶æ•¸ï¼š${pieces} ä»¶</div> <div>â€¢ è¨ˆç®—ï¼š$400 Ã— ${pieces} = <span class="font-bold text-green-600">"totalAmount.toFixed(0)}</s==<alp `catage's `catage's (categoage))</s> 40785; + åŠ åƒ¹; if (specWeight > 0 && Math.abs(weight - specWeight) < 0.1) { ç¸½é‡‘é¡ = é‡é‡ * æœ€çµ‚åƒ¹æ ¼ * ä»¶æ•¸;è¨ˆç®— = ` <div class="font-bold text-green-700 è¦æ ¼ <mb-2"> .$1 ä»¶åˆ‡è¨ˆåƒ¹ï¼ˆæ¨™æº–é›¶ä»¶ï¼‰åŸºæœ¬å–®åƒ¹ï¼š$${basePrice} /kg</div> <div>â€¢ å®¢åˆ¶åŠ åƒ¹ï¼š+$${markup} /kg</div> <div>â€¢ è¨ˆç®—ï¼š${weight}å…¬æ–¤ Ã— ${ä»¶} ä»¶ Ã— $${finalPrice} = <span class="font-bold text-green-600 text-600><m.m.ç¸½é‡‘é¡ = é‡é‡ * æœ€çµ‚åƒ¹æ ¼;è¨ˆç®— = ` <div class="font-bold text-green-700 mb-2">ğŸ”ª åˆ†åˆ‡è¨ˆåƒ¹ï¼ˆéæ¨™æº–ä»¶ï¼‰</div> <div>â€¢ è¦æ ¼ï¼š${weight} å…¬æ–¤ï¼ˆéæ¨™æº–ä»¶ï¼‰</div> <div>â€¢ åŸºæœ¬å–®åƒ¹ï¼š 0070p0p0p0p0p0p0/005p æŠ˜åƒ¹ï¼š <div>â€¢ è¨ˆç®—ï¼š${weight} kg Ã— $${finalPrice} = <span class="font-bold text-green-600">$${totalAmount.toFixed(0)}</span></div> `; document.getElementById('sales-cal}</span></div> `; document.getElementById('sales-cal}</span></div> `; document.getElementById('sales-cal}</span></div> `; document.getElementById('sales-cal}</span>). document.getElementById('sales-markup-display').textContent = `+${markup}å…ƒ`; document.getElementById('sales-final-price-display').textContent = `$${finalPrice.toFixed(1)}`; document.getElementById('sales-amount-display').textContent = `$${totalAmount.toFixed(0)}`; const totalCost = weight * pieces * costPrice; const proposit = totalAmount - toprostal; 'profit-negative'; document.getElementById('sales-profit-display').textContent = `$${profit.toFixed(0)}`; document.getElementById('sales-profit-display').className = propventid; } = event.target.querySelector('button[type="submit"]'); btn.disabled = true; btn.innerHTML = 'è™•ç†ä¸­<span class="loading-spinner"></span>'; const customerSelect = document.getElementBy('sales-cust)); document.getElementById('sales-product'); const customerOption = customerSelect.selectedOptions[0]; const productOption = productSelect.selectedOptions[0]; const weight = parseFloat(document.getElementBystal. parseFloat(document.getElementById('sales-pieces').value); const markup = parseFloat(customerOption.dataset.markup) || 0; const basePrice = parseFloat(productOption.dataset.price || 0Price = parseFloat(productOption.dataset.price || 0. || 0; const category = productOption.dataset.category; let finalPrice = 0; let totalAmount = 0;å¦‚æœ (category === 'ç”Ÿé®®') { finalPrice = basePrice + markup; const jin = weight / 0.6; to frice; finalPrice = basePrice + markup; totalAmount = weight * pieces * finalPrice; } å¦å‰‡å¦‚æœ (category === 'ç†Ÿé£Ÿ') { finalPrice = 400; totalAmount = 400 * pieces; } == 'åˆ†åˆ‡ +Price = + 'åˆ†åˆ‡ +Price +Price = 7 +Price specmark cons wighting = specxPrice +Price = price spect = +Price = specge +Price lipation +Price = liumn +n constå¥½; parseFloat(productOption.dataset.spec) || 0; å¦‚æœ (specWeight > 0 && Math.abs(weight - specWeight) < 0.1) { totalAmount = weight * finalPrice * pieces; } å¦å‰‡ { totalAmount = weight * final; totalAmount - totalCost; const profitRate = totalAmount > 0 ? (profit / totalAmount * 100) : 0; const customer = allData.find(d => d.__type === 'customer' && d.id === custSelectSelect. `SAL-${Date.now()}`, date: document.getElementById('sales-date').value, time: new Date().toLocaleTimeString('zh-TW'), customer_name: customer?.customer_name String('zh-TW'), customer_name: customer?.customer_name ã€||customer_code || '', customer_type: customer?.customer_type || '', product_name: productOption.dataset.name, category: category, weight_kg: weight, pieces: pieces, base_price: basePrice, frice_mark, cost_price: costPrice, profit: profit, profit_rate: profitRate, notes: document.getElementById('sales-notes').value, status: 'completed' }; const result = await window.dataSdk.create(salesData); const result = await window.dataSdkã€‚ (result.isOk) { showToast('âœ“ éŠ·å”®å·²å®Œæˆ'); closeModal('sales-modal'); } else { showToast('éŠ·å”®å¤±æ•—ï¼Œè«‹é‡è®€', 'error'); } } function renderSalesList() { const sales = allDatast"(d = const; dateCompare = b.date.localeCompare(a.date); if (dateCompare !== 0) return dateCompare; return (b.time || '').localeCompare(a.time || ''); }); const container = document.getElementById(s.m-list); container.innerHTML = ` <div class="text-center py-12"> <div class="text-6xl mb-4">ğŸ“¤</div> <p class="text-gray-500 text-lg">å°šæœªéŠ·å”®è¨˜éŒ„</p> <button class="btn-ccess mt-4" "divM&Das æŠ˜æ‰£ç­†ï¼ˆ `;å›å‚³; const TotalRevenue = sales.reduce((sum, s) => sum + (s.amount || 0), 0); const TotalProfit = sales.reduce((sum, s) => sum + (s.profit || 0), 0); confitst ç¸½æ”¶å…¥ >Rate 0); ï¼ˆç¸½åˆ©æ½¤ / ç¸½æ”¶å…¥ * 100ï¼‰ï¼š0; container.innerHTML = ` <div class="grid grid-cols-4 gap-4 mb-6"> <div class="text-center p-4 bg-blue-50 rounded-lg"> <divclass="text-sm; . </div> <div class="text-center p-4 bg-orange-50 rounded-lg"> <div class="text-sm text-gray-600">ç¸½æ¯›åˆ©</div> <div class="text-3xl font-bold text-orange-600">$${totalPro.toFixed(0)}</div> </div> <div class="text-center p-4 bg-purple-50 rounded-lg"> <div class="text-sm text-gray-600">å¹³å‡æ¯›åˆ©ç‡</div> <div class="text-3xl font-bold text-purpleple-600%</divple> </div> <table class="table"> <thead> <tr> <th>æ—¥æœŸæ™‚é–“</th> <th>å®¢æˆ¶</th> <th>é¡å‹</th> <th>å•†å“</th> <th>è¦æ ¼</th> <th>ä»¶æ•¸</th> <th>åŠ åƒ¹</th> <th>å–®åƒ¹</th> <th>ç¸½å”®åƒ¹</th> <th>æ¯›åˆ©</th> <th>åˆ©æ½¤ç‡</th> <th>æ“ä½œ</th> </tr> </thead> <tbody> ${sales.map(s => { const profitClass = (s.profit || 0) >= 0 ? 'profit-positive' : 'profit-negative'; return ` <tr> <td class="text-sm"> <div>${s.date}</div> <divce="text-xP. </td> <td class="font-bold">${s.customer_name}</td> <td><span class="badge badge-primary">${s.customer_type || '-'}</span></td> <td class="font-bold text-blue-600">v. <td class="text-center">${s.pieces}</td> <td class="text-sm <td class="font-bold text-orange-600">+${s.price_markup || 0}</td> <td class="font-bold">$${(s.final_ple_>>>>> <St. text-green-600 text-lg">$${(s.amount || 0).toFixed(0)}</td> <td class="font-bold text-lg ${profitClass}">$${(s.profit || 0).toFixed(0)}</td> <td$${(s.profit || 0).toFixed(0)}</td> <td $$="fontClass-bold $ 0).toFixed(1)}%</td> <td> <button class="btn-danger text-sm" onclick="deleteRecord('${s.__backendId}')">åˆªé™¤</button> </td> </tr> `; }).join('')} </ibody> </td> ç·¨è™Ÿ{}; // è¨ˆç®—é€²è²¨ allData.filter(d => d.__type === 'purchase').forEach(p => { if (!inventory[p.product_name]) { inventory[p.product_name] = { weight: 0, pieces: 0 }; } inventory[p.product_name].weight += p.total_weight || 0; inventorys.F.m.æ‰£é™¤éŠ·å”® allData.filter(d => d.__type === 'sales').forEach(s => { if (!inventory[s.product_name]) { inventory[s.product_name] = { weight: 0, pieces: 0 }; } inventory[s.proct_name]s.prod _s. inventory[s.product_name].pieces -= s.pieces || 0; }); return inventory; } function renderInventory() { const inventory = calculateInventory(); const é•·åº¦; ã€‚ mb-4">ğŸ“¦</div> <p class="text-gray-500 text-lg">è«‹å…ˆåŠ å…¥å•†å“åƒ¹æ ¼</p> <button class="btn-primary mt-4" onclick="showPage('price')">å‰å¾€åƒ¹æ ¼ç®¡ç†</button> </div> ``; inventory[p.product_name] || { weight: 0, pieces: 0 }; const isLow = stock.weight < lowStockThreshold || stock.pieces < 3; const categoryIcons = { 'ç”Ÿé®®': 'ğŸ”', 'å†·é£Ÿ': 'ï¸ ' 'ğŸ”ª' }; return ` <div class="dashboard-card ${isLow ? 'border-2 border-orange-400' : ''}"> <div class="flex items-center justify-between mb-4"> <div class="text-4div">${categoI]o'po; '<span class="badge badge-warning">âš ï¸ ä½åº«å­˜</span>' : '<span class="badge badge-success">âœ“ å¯ç”¨</span>'} </div> <h3 class="text-xl font-bold mb-2">${p.products <p.product><p. class="badge badge-primary">${p.category}</span> ${p.product_code ? `<span class="ml-2 text-xs">${p.product_code}</span>` :''} </div> <div class="space-y-3"> <div class="flex justify-between items-center p-3 bg-blue-50 rounded-lg"> <span class="text-gray-700">åº«å­˜é‡é‡</span> <span class="text-2xl font-bold . kg</span> </div> <div class="flex justify-between items-center p-3 bg-green-50 rounded-lg"> <span class="text-gray-700">åº«å­˜ä»¶æ•¸</span> <span class="text-2xl font-bold divtext-green-6000 divtext> 100 70 æœˆ> divtext justify-between text-sm text-gray-600 pt-2 border-t"> <span>ç›®å‰å”®åƒ¹</span> <span class="font-bold text-green-600">`$${p._price}</span> </div> </o> </div> $$'' }).join(R); document.getElementById('customer-form').reset(); document.getElementById('customer-modal').classList.add('show'); } async function handleCustomerSubmit(event) { event.preventDefault( btn.disabled = true; btn.innerHTML = 'è™•ç†ä¸­<span class="loading-spinner"></span>'; const customerData = { __type: 'customer', id: `CUST-${Date.now()}`, customer_name: omerument, nomeruename. document.getElementById('customer-code').value, customer_type: document.getElementById('customer-type').value, price_markup: parseFloat(document.getElementById('customer-markup'). address: document.getElementById('customer-address').value, notes: document.getElementById('customer-notes').value, is_active: true }; const result = await window.dataSdk.create(custData); const result = await window.dataSdk.create(custData); ã€‚ false); const container = document.getElementById('customer-list-content'); if (customers.length === 0) { container.innerHTML = ` <div class="text-center py-12"> <div class="text-6xl mb-4">ğŸ‘¥</div> <p class="text-gray-500 text-lg">å°šç„¡å®¢æˆ¶è³‡æ–™</p> <button class="btn-primary mt-div4" const typeCount = {}; customer.forEach(c => { typeCount[c.customer_type] = (typeCount[c.customer_type] || 0) + 1; }); container.innerHTML = ` <div class="grid grid-cols-4 gap-4-6-6(type). <div class="text-center p-4 bg-gradient-to-br from-blue-50 to-purple-50 rounded-lg"> <div class="text-sm text-gray-600">${type}</div> <div class="text-3xlxfont-bold text-purple="-600000>> <$ ä½† divp. text-gray-500">ä½å…ƒ</div> </div> `).join('')} </div> <table class="table"> <thead> <tr> <th>å®¢æˆ¶åç¨±</th> <th>å®¢æˆ¶åç¨±ä»£ç¢¼</th> <th>é¡å‹</th> <th>æ¯å…¬æ–¤åŠ åƒ¹</th> <th>å®¢æˆ¶åç¨±ä»£ç¢¼</th> <th>é¡å‹</th> <th>æ¯å…¬æ–¤åŠ åƒ¹</th> <th>è¯çµ¡é›»è©±åœ°å€</th></th></th></th></th>. </thead> <tbody> ${customers.map(c => ` <tr> <td class="font-bold text-lg">${c.customer_name}</td> <td class="text-sm text-gray-600">${c.customer_code '-' ? 'warning' : 'primary'}">${c.customer_type}</span></td> <td class="font-bold text-green-600 text-lg">+${c.price_markup}å…ƒ</td> <td class="text-sm">${c.phphone ||>>>>>> <>>>>>>> <>>>>>>> <2+>>>>>>>>> <>>>. ã€‚ openSupplierModal() { document.getElementById('supplier-form').reset(); document.getElementById('supplier-modal').classList.add('show'); } async function handleSupplierSubmit(event) { event.preventDefault(); const btn = event.target.querySelector('button[type="submit"]'); btn.disabled = true; btn.ininc; __type: 'supplier', id: `SUP-${Date.now()}`, supplier: document.getElementById('supplier-name').value, supplier_code: document.getElementById('supplier-code').value, phone: document.getElementById('supplier-code').value, phone: documentã€‚ documentã€‚ (result.isOk) { showToast('âœ“ ä¾›æ‡‰å•†å·²æ–°å¢'); closeModal('supplier-modal'); } else { showToast('æ–°å¢å¤±æ•—ï¼Œè«‹é‡è©¦', 'éŒ¯èª¤'); } } function renderSumanierList() { const sellers = allData.filter(==; false); const container = document.getElementById('ä¾›æ‡‰å•†æ¸…å–®å…§å®¹'); if (suppliers.length === 0) { container.innerHTML = ` <div class="text-center py-12"> <div class="text-6 mb-4">p-class 0p-4p-6 ã€‚ text-gray-600">ç¸½ä¾›æ‡‰å•†æ•¸é‡</div> <div class="text-4xl font-bold text-blue-600">${suppliers.length}</div> </div> <table class="table"> <thead> <tr> <th>ä¾›æ‡‰å•†åç¨±</th> <th> è¯çµ¡åœ°å€ç·¨è™Ÿ<th>æ“ä½œ</th> </tr> </thead> <tbody> ${suppliers.map(s => ` <tr> <td class="font-bold text-lg">${s.plier}</td> <td class="text-sm text-gray-600">${s.K.>>> <çœ‹åˆ°. '-'}</td> <td class="text-sm">${s.address || '-'}</td> <td class="text-sm text-gray-600">${s.notes || '-'}</td> <td> <button class="btn-danger text-sm" onclick="deleteRecord('${s.__backendend}')">åˆªé™¤</button></button> s</i>. </table> `; } // å ±è¡¨åˆ†æ function switchReportTab(tabName) { document.querySelectorAll('.tab').forEach(tab => { tab.classList.remove('active'); }); document.querySelector(`.tab[data-tab="$.tab); document.querySelectorAll('.report-tab-content').forEach(content => { content.style.display = 'none'; }); document.getElementById(`report-${tabName}`).style.display = 'block'; renderReports(`report-${tabName}`).style.display = 'block'; renderReports(`report); document.querySelector('.tab.active')?.dataset.tab || 'daily'ï¼› break; } } function renderDailyReport() { const today = new Date().toISOString().split('T')[0]; const sales = allData.filter(d => d.__type === 'sales' && d.date === today); d.date === today); const totalRevenue = sales.reduce((sum, s) => sum + (s.amount || 0), 0); const totalProfit = sales.reduce((sum, s) => sum + (s.prod || 0), 0); (p.amount || 0), 0)ï¼› gap-6 mb-8"> <div class="text-center p-6 bg-gradient-to-br from-green-50 to-green-100 rounded-xl"> <div class="text-sm text-gray-600 mb-2">ä»Šæ—¥ç‡Ÿé‹æ”¶æ¬¾</div> <divclass="text-4xlfont-bold text-green-600">$${totalRevenue.toFixed(0)}</div> <div class="text-sm text-gray-500 mt-2">${sales.é•·åº¦} ç­†ç‡ŸéŠ·å”®è³£</div> </div> <div class="text-center p-6 bg-gradient-to-br from-orange-50 to-orange-100 rounded-xl"> <div class="text-sm text-gray-600 mb-2">ä»Šæ—¥æ¯›åˆ©</div"> <div class="text-sm text-gray-600 mb-2">ä»Šæ—¥æ¯›åˆ©</div.> < class=" text-orange-600">$${totalProfit.toFixed(0)}</div> <div class="text-sm text-gray-500 mt-2">${totalRevenue > 0 ? ((totalProfit/totalRevenue)*100).toFdivixed(1) : 000%> <divix. bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl"> <div class="text-sm text-gray-600 mb-2">ä»Šæ—¥é€²è²¨æˆæœ¬</div> <div class="text-4xl font-bold text-blue-600">">{toclassCost.divto>D.<op.<op-0000> text-gray-500 mt-2">${purchases.length} é€²è²¨</div> </div> </div> ${sales.length > 0 ? ` <div class="mb-6"> <h4 class="text-lg font-bold mb-3">é»éŠ·å”®æ™‚é–“</h4> <table class. <th>å•†å“</th> <th>æ•¸é‡</th> <th>é‡‘é¡</th> <th>æ¯›åˆ©</th> </tr> </thead> <tbody> ${sales.map(s => ` <tr> <td class="text-sm">${s.time || '-'}</td> <td class="font-bold">>${s.time || '-'}</td>> <td>${s.weight_kg}kg Ã— ${s.pieces}ä»¶</td> <td class="font-bold text-green-600">$${(s.amount || 0).toFixed(0)}</td> <td class="font-bold text-orange-600">{s. `).join('')} </tbody> </table> </div> ` : '<p class="text-center text-gray-500 py-8">ä»Šæ—¥ç„¡éŠ·å”®å”®è¨˜</p>'} </div> `; } function renderWeeklyReport() { const today = new Date(day); 24 * 60 * 60 * 1000); const weekAgoStr = weekAgo.toISOString().split('T')[0]; const sales = allData.filter(d => d.__type === 'sales' && d.date >= witâ€‹â€‹stalc); && d.date >= weekAgoStr); const totalRevenue = sales.reduce((sum, s) => sum + (s.amount || 0), 0); const totalProfit = sales.reduce((sum, s) => sum + (s.pro || 0), 0ost); (p.amount || 0), 0); // ä¾æ—¥æœŸçµ±è¨ˆ const dailyStats = {}; sales.forEach(s => { if (!dailyStats[s.date]) { dailyStats[s.date] = { revenue: 0, proven: 0, .0}; 0; dailyStats[s.date].profit += s.profit || 0; dailyStats[s.date].count += 1; }); document.getElementById('report-weekly').innerHTML = ` <doc class="dashboard-card">hweekly').innerHTML = ` < class="è¿‘7æ—¥ç‡Ÿé‹å ±å‘Šè¡¨</h3> <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"> <div class="text-center p-6 bg-gradient-to-br from-green-50 to-green-100 rounded-divxl"> class="text-divp-divm-divm-divm-div-60-divx-div ã€‚ class="text-4xl font-bold text-orange-600">$${totalProfit.toFixed(0)}</div> </div> <div class="text-center p-6 bg-gradient-to-br from-blue-50 to-blue-100 r0ped-xl>divound class class-0p-0p-0p-0m-div class="text-4xl font-bold text-blue-600">$${(totalRevenue/7).toFixed(0)}</div> </div> <div class="text-center p-6 bg-gradient-to-br from-purple-50 to-purple-100 class-0. mb-2">ç¸½äº¤æ˜“æ•¸</div> <div class="text-4xl font-bold text-purple-600">${sales.length}</div> </div> </div> <div class="mb-6"> <h4 class="text-lg font-bold mb-3">æ¯æ—¥ç‡Ÿæ¥­${Object.entries(dailyStats).sort((a, b) => b[0].localeCompare(a[0])).map(([date, stats]) => { const maxRevenue = Math.max(...Object.values(dailyStats).map(s =>)s.R.revenue / maxRevenue) * 100; return ` <div> <div class="flex justify-between text-sm mb-1"> <span class="font-bold">${date}</span> <span class="text-gray-600">${stats.} ç­†åˆ©æ½¤ | $${stats.profit.toFixed(0)}</span> </div> <div class="bg-gray-200 h-6 rounded-full overflow-hidden"> <div class="chart-bar h-full" style="width: ${barWiddiv}%"></divth </divthD. </div> `; } function renderMonthlyReport() { const today = new Date(); const monthAgo = new Date(today.getTime() - 30 * 24 * 60 * 60 * 1000); const monthAgoStr = monthAgo. allData.filter(d => d.__type === 'sales' && d.date >= monthAgoStr); const purchases = allData.filter(d => d.__type === 'purchase' && d.date >= monthAgoStr); const total total); 0); const totalProfit = sales.reduce((sum, s) => sum + (s.profit || 0), 0); const totalCost = purchases.reduce((sum, p) => sum + (p.amount || 0), 0); (!customerStats[s.customer_name]) { customerStats[s.customer_name] = { revenue: 0, count: 0 }; } customerStats[s.customer_name].revenue += s.amount || 0; customers[omers.cust_gomer); Object.entries(customerStats) .sort((a, b) => b[1].revenue - a[1].revenue) .slice(0, 10); document.getElementById('report-monthly').innerHTML = ` <divdivclass="dashboard-card class="è¿‘30æ—¥ç‡Ÿé‹å ±å‘Šè¡¨</h3> <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"> <div class="text-center p-6 bg-gradient-to-br from-green-50 to-green-100 r-6 bg-gradient-to-br from-green-50 to-green-100 r-dived-xl"> <2-009 <6-divtext-div ã€‚ class="text-4xl font-bold text-orange-600">$${totalProfit.toFixed(0)}</div> </div> <div class="text-center p-6 bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl"> <div class="text-sm text-gray-600 mb-2">æ¯æœˆæˆæœ¬</div"> <div class="text-sm text-gray-600 mb-2">æœˆæˆæœ¬</div>> < class="bold. text-blue-600">$${totalCost.toFixed(0)}</div> </div> <div class="text-center p-6 bg-gradient-to-br from-purple-50 to-purple-100 é•·åº¦- text-purple-600">${totalRevenue > 0 ? ((totalProfit/totalRevenue)*100).toFixed(1) : 0}%</div> </div> </div> <div class="mb-6"> <h4 class="text-divfontfont-bold 0-3 <div class="mb-6"> <h4 class="text-divfontfont-bold 3-3000-3000 10-4-3 æœˆ 1000137 æœˆ 1003-3000 ${topCustomers.map(([name, stats], idx) => { const maxRevenue = topCustomers[0][1].revenue; const barWidth = (stats.revenue / maxRevenue) * 100; return `<div-cooo class="cop-coup) * 100ï¼› class="font-bold text-gray-500">#${idx + 1}</span> ${name}</span> <span class="text-gray-600">${stats.count} | {stats.revenue.toFixed(0)}</sdiv> </div-cop-class-class-class-full-0-m-full-full-0-0-0-D-Fm-full-full-0-0-0-D-Fm-full-full <div class="chart-bar h-full" style="width: ${barWidth}%"></div> </div> </div> `; }).join('')} </div> </div> </div> `; } function renderProfitReport() { const sales = Datast. productStats = {}; sales.forEach(s => { if (!productStats[s.product_name]) { productStats[s.product_name] = { revenue: 0, profit: 0, cost: 0, count: 0, categoegory: s. profit: 0, cost: 0, å•é¡Œ +.d5, categoegory: s.cat s.amount || 0; productStats[s.product_name].profit += s.profit || 0; productStats[s.product_name].cost += (s.amount || 0) - (s.profitfitï¼Ÿ Object.entries(productStats) .map(([name, stats]) => ({ name, ...stats, profitRate: stats.revenue > 0 ? (stats.profit / stats.revenue * 100) : 0 })) .sort((a, b) = a> b.const totalRevenue = sortedProducts.reduce((sum, p) => sum + p.revenue, 0); const totalProfit = sortedProducts.reduce((sum, p) => sum + p.profit, 0); const totalCost = sortedp.m.m. documentã€‚ bg-gradient-to-br from-green-50 to-green-100 rounded-xl"> <div class="text-sm text-gray-600 mb-2">ç¸½æ”¶å…¥</div> <div class="text-4xl font-bold text-green-600">{todivRevenue.10D bg-gradient-to-br from-orange-50 to-orange-100 rounded-xl"> <div class="text-sm text-gray-600 mb-2">æ¯›åˆ©</div> <div class="text-4xl font-bold text-orange-600">{divtotalProfit.to-4xlx class.toop. bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl"> <div class="text-sm text-gray-600 mb-2">å¹³å‡åˆ©æ½¤ç‡</div> <div class="text-4xl font-bold text-purple-600">${totalRevenueue 0 ? ((totalProfit/totalRevenue)*100).toFixed(1) : 0}%</div> </div> </div> ${sortedProducts.length > 0 ? ` <table class="table"> <thead> <tr> <th>æ’å</th> <th> å•†å“ç·¨è™Ÿ<th>ç¸½æˆæœ¬</th> <th>ç¸½æ¯›åˆ©</th> <th>åˆ©æ½¤ç‡</th> </tr> </thead> <tbody> ${sortedProducts.map((p, idx) => ` <tr> <td class="font-bold text-gray-500">td> class="badge badge-primary">${p.category}</span></td> <td class="text-center">${p.count}</td> <td class="font-bold text-green-600">$${p.revenue.toFixed(0)}</td class="font-bold text-orange-600 text-lg">$${p.profit.toFixed(0)}</td> <td class="font-bold ${p.profitRate >= 20 ? 'text-green-600' : p.profitRate >= 10 ? 'text-orange-600' : 'text-red-600'}"> ${p.profitRate.Fix. </tbody> </table> ` : '<p class="text-center text-gray-500 py-8">æš«ç„¡åˆ©æ½¤è³‡æ–™</p>'} </div> `; } // ç³»çµ±è¨­å®š function saveSettings() { const title = document.getElementByIdf). documentã€‚ }); } showToast('âœ“ è¨­å®šå·²å„²å­˜'); } // ç¯©é¸åŠŸèƒ½ï¼ˆå¾…å¯¦ä½œï¼‰ function applyPurchaseFilter() { renderPurchaseList(); } function clearPurchaseFilter() { document.getElementById('purchase-filter-date'). documentã€‚ document.getElementById('sales-filter-customer').value = '';æ¸²æŸ“éŠ·å”®æ¸…å–®ï¼ˆï¼‰ï¼› } // åˆªé™¤è¨˜éŒ„ï¼ˆäºŒæ¬¡ç¢ºèªï¼‰ async function deleteRecord(backendId) { const record = allData.find(d => d.backendId = conifend); event.target;å¸¸æ•¸originalText=confirmBtn.textContent; if (confirmBtn.textContent === 'åˆªé™¤') { informBtn.textContent = 'ç¢ºèªåˆªé™¤?'; verifyBtn.style.background = 'ç·šæ€§æ¼¸è®Š(135deg, #2626 0% #99( (confirmBtn.textContent === 'ç¢ºèªåˆªé™¤ï¼Ÿ') { confirmBtn.textContent = originalText; confirmBtn.style.background = ''; } }, 3000); return; } confirmBtn.disabled = true; confirmBtn.ininfig; window.dataSdk.delete(record); if (result.isOk) { showToast('âœ“ å·²åˆªé™¤'); } else { showToast('åˆªé™¤å¤±æ•—', 'error'); confirmBtn.disabled = false; confirmBtn.textContent = original.style confiâ€‹â€‹rmh. closeModal(modalId) { document.getElementById(modalId).é¡åã€‚ 'success' ? 'âœ“' : type === 'error' ? 'âœ—' : 'âš ï¸'}</span> <span class="font-bold">${message}</span> </div> `; document.body.appendChild(toast)ï¼› setTimeout(() => toast.remove(), 300); }, 2700); } // é¸å–®åˆ‡æ› document.querySelectorAll('.menu-item').forEach(item => { item.addEventListener('click',, () = æ±ºå®šå¤–é»document.querySelectorAll('.modal').forEach(modal => { modal.addEventListener('click', (e) => { if (e.target === modal) { modal.classList.remove('show'); }); }); <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9a2a93df94dff062',t:'MTc2MzgzNzA2MS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getE lementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.st yle.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}}();</script></body></html</html>'âš ï¸'}</span> <span class="font-bold">${message}</span> </div> `; document.body.appendChild(toast); setTimeout(() => { toast.style.animation = 'slideIn 0.3s ease-out reverse'); 2700); } // é¸æ“‡é …ç›® document.querySelectorAll('.menu-item').forEach(item => { item.addEventListener('click', () => { showPage(item.dataset.page); }); }); modal.addEventListener('click', (e) => { if (e.target === modal) { modal.classList.remove('show'); } }); }); // åˆå§‹åŒ– window.addEventListener('DOMContentLoaded', init); // åˆå§‹åŒ– window.addEventListener('DOMContentLoaded', init); // åˆå§‹åŒ– window.addEventListener('DOMContentLoaded', init); // åˆå§‹åŒ– window.addEventListener('DOMContentLoaded', init); </ b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9a2a93df94dff062',t:'MTc2MzgzMDA a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getE lementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.st yle.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}}();</script></body></html</html>'âš ï¸'}</span> <span class="font-bold">${message}</span> </div> `; document.body.appendChild(toast); setTimeout(() => { toast.style.animation = 'slideIn 0.3s ease-out reverse'); 2700); } // é¸æ“‡é …ç›® document.querySelectorAll('.menu-item').forEach(item => { item.addEventListener('click', () => { showPage(item.dataset.page); }); }); modal.addEventListener('click', (e) => { if (e.target === modal) { modal.classList.remove('show'); } }); }); // åˆå§‹åŒ– window.addEventListener('DOMContentLoaded', init); // åˆå§‹åŒ– window.addEventListener('DOMContentLoaded', init); // åˆå§‹åŒ– window.addEventListener('DOMContentLoaded', init); // åˆå§‹åŒ– window.addEventListener('DOMContentLoaded', init); </ b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9a2a93df94dff062',t:'MTc2MzgzMDA a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getE lementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.st yle.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}}();</script></body></html</html>'MTc2MzgzNzA2MS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getE lementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.st yle.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}}();</script></body></html</html>'MTc2MzgzNzA2MS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getE lementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.st yle.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}}();</script></body></html</html>
